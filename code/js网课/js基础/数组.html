<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组</title>
    <script>
        //数组（Array）
        //数组也是一个对象，它和普通对象功能类似，也是用来储存一些值的
        //不同的是普通对象是使用字符串作为属性名的，而数组是使用数字来作为索引操作元素
        //从0开始的整数就是索引
        //数组的存储性能比普通对象要好，在开发中我们经常使用数组来存储一些数据

        //创建数组对象
        var arr = new Array();
        console.log(arr);
        console.log(typeof arr); //object

        //向数组中添加元素 语法：数组【索引】=值
        arr[0] = 10;
        arr[1] = 18;
        console.log(arr);

        //读取数组中的元素 语法：数组【索引】
        console.log(arr[0]);
        console.log(arr[2]); //如果读取不存在的索引 返回undefined

        //获取数组的长度（获取有几个元素） 可使用length属性来获取数组的长度 语法：数组.length
        console.log(arr.length);
        //对于连续的数组，使用length可以获取到数组的长度（元素的个数）。对于非连续的数组，使用length会获取到数组的最大索引+1
        //arr[10] = 100;
        //console.log(arr.length);
        //console.log(arr); //非连续的数组中间给空出来了  尽量不要创建非连续的数组

        //如果修改的length大于原长度，则多出部分会空出来
        arr.length = 10;
        console.log(arr);
        //如果修改的length小于原长度，则多出的元素会被删除
        arr.length = 1;
        console.log(arr);

        //向数组的最后一个位置添加元素 语法：数组【数组.length】= 值
        arr[arr.length] = 20;
        arr[arr.length] = 30;
        arr[arr.length] = 40;
        console.log(arr);

        arr.hello = "abc"; //也可以  但一般不这样
        console.log(arr);

        //使用字面量创建数组
        var arr1 = [];
        console.log(arr1);
        //使用字面量创建数组时，可以在创建时就指定数组中的元素
        var arr2 = [1, 3, 5, 7, 9, 11];
        console.log(arr2);
        //使用构造函数也可以创建的时候添加元素,将要添加的元素作为构造函数的参数传递,用逗号隔开
        var arr3 = new Array(10, 20, 30);
        console.log(arr3);
        //当只有一个整数时，用自面量表示创建一个只有一个元素的数组，用new表示创建一个长度为它的数组
        arr2 = [10];
        console.log(arr2);
        arr3 = new Array(10); //构造函数很少用
        console.log(arr3);

        //数组中的元素可以是任意的数据类型 也可以是对象
        arr2 = ["hello", 1, true, null, undefined];
        var obj = {
            name: "AA"
        };
        arr2[arr2.length] = obj;
        console.log(arr2);
        console.log(arr2[5]);
        arr3 = [{ //向数组里添加三个对象
            name: "AA"
        }, {
            name: "BB"
        }, {
            name: "CC"
        }];
        console.log(arr3);
        //也可以放函数
        arr3 = [function() {
            console.log("haha");
        }, function() {
            console.log("wawa");
        }];
        console.log(arr3);
        arr3[0](); //调用
        //也可以放数组 如下这种数组称为二维数组
        arr3 = [
            [1, 2],
            [10, 20],
            [77, 88]
        ];
        console.log(arr3);

        // push() 该方法可以向数组的末尾添加一个或多个元素，并返回数组的新的长度
        //可以将要添加的元素作为方法的参数传递，这样这些元素将会自动添加到数组的末尾。该方法会将数组新的长度作为返回值返回。
        arr3 = ["yi", "wu", "yu"];
        arr3.push("ai", "o"); //可添加多个
        console.log(arr3);
        var result = arr3.push("ai", "o");
        console.log(result);
        console.log(arr3);

        //pop() 该方法可以删除数组的最后一个元素,并将删除的元素作为返回值返回
        arr3.pop();
        arr3.pop();
        console.log(arr3);
        result = arr3.pop();
        console.log(result);

        //unshift() 向数组开头添加一个或多个元素，并返回新的数组长度
        //向前边插入元素以后，其他元素的索引会依次调整
        console.log(arr3);
        arr3.unshift("wa", "haha")
        console.log(arr3);

        //shift() 可以删除数组的第一个元素，并将删除的元素作为返回值返回
        arr3.shift();
        console.log(arr3);
        console.log(arr3.shift());

        //数组的遍历
        //所谓的遍历数组，就是将数组中所有的元素都取出来
        console.log(arr3);
        console.log(arr3[0]);
        console.log(arr3[1]);
        console.log(arr3[2]);
        console.log(arr3[3]);
        //可以用循环来写
        //for (var i = 0; i < 4; i++) {//i不能写死，应该小于数组长度
        for (var i = 0; i < arr3.length; i++) {
            console.log(arr3[i]);
        }

        //forEach()  IE8及以下的浏览器均不支持该方法，如果需要兼容IE8，则还是要用for循环
        //一般我们都是使用for循环去遍历数组，JS中还为我们提供了一个方法用来遍历数组就是forEach()
        //forEach()方法需要一个函数作为参数。像这种函数，由我们创建但不由我们调用的（浏览器调的），我们称为回调函数
        //数组中有几个元素，函数就会执行几次。每次执行时，浏览器会将遍历到的元素以实参的形式传递进来。我们可以来定义行参，来读取这些元素
        //浏览器会在回调函数中传递三个参数
        console.log(arr3);
        arr3.forEach(function(value, index, obj) {
            // console.log("hello");
            console.log("value=" + value); //第一个参数，就是当前正在遍历的元素
            console.log("index=" + index); //第二个参数，就是当前正在遍历的元素的索引 
            console.log("obj=" + obj); //第三个参数，就是当前正在遍历的数组
        });

        //slice()可以用来从数组提取指定元素 两个参数：开始位置的索引（包括）和结束位置的索引（不包括）
        //该方法不会改变原数组，而是将截取到的元素封装到一个新的数组中返回
        console.log(arr3);
        arr3.slice(0, 2);
        console.log(arr3);
        console.log(arr3.slice(0, 2));
        //第二个参数可以省略不写，此时会截取从开始索引往后的所有元素
        console.log(arr3.slice(1));
        //索引可以传递一个负值，如果传递一个负值，则从后往前计算 -1表示倒数第一个
        console.log(arr3.slice(1, -1));

        //splice() 可以用于删除数组中的指定元素，还可像数组中添加元素 
        //开始两个参数：开始位置的索引（包括）和删除的数量。第三个及以后的参数可以传递一些新的元素，这些元素将会自动插入到开始位置索引前边
        //使用splice()会影响到原数组，会将指定元素从原数组里删除，并将被删除的元素作为返回值返回
        arr3.splice(0, 1);
        console.log(arr3);
        console.log(arr3.splice(1, 0));
        console.log(arr3);
        arr3.splice(2, 1, "九", "八", "七");
        console.log(arr3);

        //concat() 连接两个或更多的数组并返回结果 该方法不会对原数组产生影响
        var arr4 = ["十", "九", "八"];
        var arr5 = ["一", "二", "三"];
        var arr6 = ["四", "五"];
        console.log(arr4.concat(arr5, arr6, "哗啦啦", "淅沥沥")); //这里面不仅可以传数组，还可以传元素
        console.log(arr4);

        //join() 该方法可以将数组转换为一个字符串 该方法不会对原数组产生影响
        //在join中可以指定一个字符串作为参数，这个字符串将会成为数组中元素的连接符（不传的话就是逗号连接）
        result = arr4.join();
        console.log(result);
        console.log(typeof result);
        console.log(arr4);
        console.log(arr4.join("h"));
        console.log(arr4.join("")); //传一个空串就是啥也没有连接的

        //reverse() 该方法用来反转数组 该方法会直接修改原数组
        arr4.reverse();
        console.log(arr4);

        //sort() 对数组的元素进行排序 该方法会直接修改原数组
        //默认会按照unicode编码进行排序
        var arr7 = ["b", "d", "e", "a", "c"];
        arr7.sort();
        console.log(arr7);
        //即使对于纯数字的数组，也会按照unicode编码来排序，因此可能得到错误的结果
        arr7 = [3, 4, 11, 2, 5];
        console.log(arr7.sort());
        //我们可以自己来指定排序的规则
        //我们可以在sort()中添加一个回调函数，来指定排序规则。
        //回调函数需要定义两个行参，浏览器会分别使用数组中的元素作为实参去调用回调函数。
        //如果返回一个大于0的值，b会排在a的前面。如果返回一个小于0的值，a会排在b前面。如果等于0，ab位置不变。
        arr7 = [3, 4, 11, 2, 5];
        arr7.sort(function(a, b) {
            console.log("a=" + a);
            console.log("b=" + b);
            // return 1
            // return -1;
            // if (a > b) {
            //     return 1
            // } else if (a < b) {
            //     return -1;
            // } else {
            //     return 0
            // }
            //简写 升序排列a-b 降序排列b-a
            // return a - b;
            return b - a;
        });
        console.log(arr7);
    </script>
</head>

<body>

</body>

</html>